name: my-bot
flows:
    fallback:
        active: true
        fallback: true
        intents:
            fallbackIntent:
                type: text
                fallback: true
        states:
            init:
                initial: true
                action: showDontUnderstand
                end: true
                transitions:
                    init:
                        fallback: true
        actions:
            showDontUnderstand:
                type: text
                options:
                    text: 'Maaf, akmal belum mengerti'
        methods: {}
    greeting:
        active: true
        intents:
            greetingIntent:
                initial: true
                type: text
                classifier:
                    nlu: intent
                    match: greetingNLU
        states:
            init:
                initial: true
                transitions:
                    showGreeting:
                        fallback: true
            showGreeting:
                action:
                    -
                        name: sayHello
                    -
                        name: showMenu
                end: true
        actions:
            sayHello:
                type: text
                options:
                    text: 'Halo saya akmal, bot yang baik'
            showMenu:
                type: template
                options:
                    type: button
                    items:
                        text: mau pesan apa ?
                        title: askingOrder
                        actions:
                            -
                                type: postback
                                label: Espresso
                                payload:
                                    type: chooseCoffee
                                    value: espresso
                            -
                                type: postback
                                label: Latte
                                payload:
                                    type: chooseCoffee
                                    value: latte
                            -
                                type: postback
                                label: Mocha
                                payload:
                                    type: chooseCoffee
                                    value: mocha
    chooseCoffee:
        active: true
        intents:
            chooseCoffee:
                initial: true
                type: data
                condition: payload.type == "chooseCoffee"
        states:
            init:
                initial: true
                transitions:
                    showChoosedCoffee:
                        mapping:
                            context:
                                choosedCoffee: payload.value
                        fallback: true
            showChoosedCoffee:
                action: showChoosedCoffeeAction
                end: true
        actions:
            showChoosedCoffeeAction:
                type: text
                options:
                    text: kamu memilih kopi $(context.choosedCoffee)
methods: $include(./methods.yml)
nlus:
    intent:
        type: keyword
        options:
            keywords:
                greetingNLU:
                    - hi
                    - hai
                    - halo
                    - mal
                    - hello
author: renaldybrada
changelog: init
tag: null
